<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compare Auth Headers</title>
    <style>
        body {
            font-family: monospace;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
        }
        .box {
            background: #f5f5f5;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        input {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            font-family: monospace;
        }
        button {
            background: #0066cc;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        .result {
            background: #1e1e1e;
            color: #4fc3f7;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
            word-break: break-all;
        }
        .match { color: #4caf50; font-weight: bold; }
        .nomatch { color: #f44336; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üîç Base64 Auth Comparison Tool</h1>
    
    <div class="box">
        <h3>Enter Your Credentials:</h3>
        <label>Username:</label>
        <input type="text" id="username" value="salesgenius_api">
        
        <label>Password:</label>
        <input type="password" id="password" value="TestPass123456789012345678901234">
        
        <button onclick="generate()">Generate Base64</button>
    </div>

    <div id="output"></div>

    <script>
        function generate() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            const authString = `${username}:${password}`;
            const base64 = btoa(authString);
            
            const output = document.getElementById('output');
            output.innerHTML = `
                <div class="box">
                    <h3>Generated Auth Header:</h3>
                    <p><strong>Username:</strong> <code>${username}</code> (${username.length} chars)</p>
                    <p><strong>Password:</strong> <code>${password}</code> (${password.length} chars)</p>
                    <p><strong>Auth String:</strong> <code>${authString}</code> (${authString.length} chars)</p>
                    <div class="result">${base64}</div>
                    
                    <h3>Full Authorization Header:</h3>
                    <div class="result">Basic ${base64}</div>
                    
                    <h3>üìã What to do:</h3>
                    <ol>
                        <li>Copy the full base64 value above</li>
                        <li>Go to your Netlify Function logs</li>
                        <li>Look for "Full base64 for verification:"</li>
                        <li>Compare them - they should be IDENTICAL</li>
                    </ol>
                    
                    <h3>üîß If they don't match:</h3>
                    <ul>
                        <li>The environment variables in Netlify are wrong</li>
                        <li>Delete and re-create them in Netlify dashboard</li>
                    </ul>
                </div>
            `;
        }
        
        // Generate on load
        generate();
    </script>
</body>
</html>

